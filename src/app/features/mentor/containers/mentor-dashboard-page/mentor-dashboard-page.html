
<h1 class="text-xl sm:text-2xl font-bold">Dashboard </h1>
<div class="space-y-6 mt-7">

  <!-- <section class="grid grid-cols-4">
    <pre>
      {{ mentorStats()| json}}
    </pre>
    <pre>
      {{ upcomingSessions()| json}}
    </pre>
       <pre>
      {{ completedRatedSessions()| json}}
    </pre>
    <pre>
      {{ fullMentorData()| json}}
    </pre>
  </section> -->

  <!-- <pre>
    {{ upcomingSessions()| json}}
  </pre>   -->

  <section class="">

    <app-stats-box [mentorStats]="mentorStats()"></app-stats-box>

  </section>

  <section >
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-x-3">

      <div class="col-span-2 py-3">
        <div class="bg-white p-5 space-y-5 rounded-xl shadow">
          <h1 class="text-xl sm:text-2xl font-bold text-brand-text">Calendar</h1>

          <div class="flex flex-wrap gap-3">
            <button
              class="px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600"
              (click)="syncToGoogleCalendar()"
            >
              Sync Firestore Sessions
            </button>

            <button
              class="px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400"
              (click)="signOutCalendar()"
            >
              Sign Out
            </button>

            <button
              class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"
              (click)="listGoogleEvents()"
            >
              View Google Events
            </button>
          </div>

          <p class="text-sm text-gray-600 mt-3">{{ syncStatus() }}</p>

          <div class="mt-5 border rounded-xl overflow-hidden">
            <iframe
              src="https://calendar.google.com/calendar/embed?src=felipinanerdulfo%40gmail.com&ctz=Asia%2FManila"
              style="border:0"
              width="100%"
              height="600"
              frameborder="0"
              scrolling="no"
            ></iframe>
          </div>

          @if(calendarEvents().length) {
            <div class="mt-5 bg-gray-50 rounded-lg p-3">
              <h2 class="font-semibold text-gray-700 mb-2">Google Events:</h2>
              <ul class="space-y-1">
                @for(event of calendarEvents(); track event) {
                  <li class="text-sm text-gray-700 border-b border-gray-200 pb-1">
                    {{ event.summary }} â€”
                    <span class="text-gray-500">
                      {{ event.start?.dateTime || event.start?.date }}
                    </span>
                  </li>
                }
              </ul>
            </div>
          }

        </div>
      </div>

      <div class="py-3">
           <div class="grid grid-cols-1 bg-white p-5  rounded-xl shadow">
            <h1 class="text-xl sm:text-2xl font-bold text-brand-text mb-4">Upcoming Sessions</h1>

          <app-session-info-card [upcomingSessions]="upcomingSessions()"></app-session-info-card>
          </div>
      </div>

    </div>
  </section>

  <section>
    <div class="p-7 bg-white rounded-xl">
      <h1 class="text-xl sm:text-2xl font-bold text-brand-text mb-5">Your Ratings... </h1>
      <app-session-rating-card [completedRatedSessions]="completedRatedSessions()"></app-session-rating-card>
    </div>
  </section>
</div>
